<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Module machi_flu1</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module machi_flu1</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>The Machi FLU file server + file location sequencer.


<h2><a name="description">Description</a></h2><p>The Machi FLU file server + file location sequencer.</p>
 
  <p>This module implements only the Machi FLU file server and its  
implicit sequencer.  
Please see the EDoc "Overview" for details about the FLU as a  
primitive file server process vs. the larger Machi design of a FLU  
as a sequencer + file server + chain manager group of processes.</p>
 
  <p>The FLU is named after the CORFU server "FLU" or "FLash Unit" server.</p>
 
  <h4><a name="Protocol_origins">Protocol origins</a></h4>
 
  <p>Today's FLU fully supports a protocol that is based on Protocol
  Buffers.  Please see the <code>src/machi.proto</code> file for details.</p>
 
  <h4><a name="TODO_items">TODO items</a></h4>
 
  <p>TODO The per-file metadata tuple store is missing from this implementation.</p>
 
  TODO Section 4.1 ("The FLU") of the Machi design doc suggests that
  the FLU keep track of the epoch number of the last file write (and
  perhaps last metadata write), as an optimization for inter-FLU data
  replication/chain repair.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#current_state-1">current_state/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#format_state-1">format_state/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#main2-4">main2/4</a></td><td></td></tr>
<tr><td valign="top"><a href="#make_listener_regname-1">make_listener_regname/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#make_projection_server_regname-1">make_projection_server_regname/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#run_append_server-2">run_append_server/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#run_listen_server-1">run_listen_server/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#start_link-1">start_link/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#stop-1">stop/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#update_wedge_state-3">update_wedge_state/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#wedge_myself-2">wedge_myself/2</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="current_state-1">current_state/1</a></h3>
<div class="spec">
<p><tt>current_state(PidSpec) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="format_state-1">format_state/1</a></h3>
<div class="spec">
<p><tt>format_state(State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="main2-4">main2/4</a></h3>
<div class="spec">
<p><tt>main2(FluName, TcpPort, DataDir, Props) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="make_listener_regname-1">make_listener_regname/1</a></h3>
<div class="spec">
<p><tt>make_listener_regname(BaseName) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="make_projection_server_regname-1">make_projection_server_regname/1</a></h3>
<div class="spec">
<p><tt>make_projection_server_regname(BaseName) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="run_append_server-2">run_append_server/2</a></h3>
<div class="spec">
<p><tt>run_append_server(FluPid, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="run_listen_server-1">run_listen_server/1</a></h3>
<div class="spec">
<p><tt>run_listen_server(State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="start_link-1">start_link/1</a></h3>
<div class="spec">
<p><tt>start_link(Rest) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="stop-1">stop/1</a></h3>
<div class="spec">
<p><tt>stop(Pid) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="update_wedge_state-3">update_wedge_state/3</a></h3>
<div class="spec">
<p><tt>update_wedge_state(PidSpec, Boolean, EpochId) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="wedge_myself-2">wedge_myself/2</a></h3>
<div class="spec">
<p><tt>wedge_myself(PidSpec, EpochId) -&gt; any()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Dec 8 2015, 21:33:07.</i></p>
</body>
</html>
